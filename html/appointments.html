<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointments - PetWell</title>
    <link rel="stylesheet" href="/static/styles/dashboard.css?v=10">
    <link rel="stylesheet" href="/static/styles/appointments.css?v=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bubblegum+Sans&family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-brand">
            <i class="fas fa-paw"></i>
            <span>PetWell</span>
        </div>
        <div class="nav-links">
            <a href="/dashboard"><i class="fas fa-home"></i> Dashboard</a>
            <a href="/pets-page"><i class="fas fa-dog"></i> My Pets</a>
            <a href="/appointments" class="active"><i class="fas fa-calendar-check"></i> Appointments</a>
            <a href="/reports"><i class="fas fa-chart-line"></i> Reports</a>
        </div>
        <div class="nav-user">
            <button class="user-btn" id="userMenuBtn">
                <i class="fas fa-user-circle"></i>
                <span id="navUsername">User</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="user-dropdown hidden" id="userDropdown">
                <a href="/profile"><i class="fas fa-user"></i> Profile</a>
                <a href="/settings"><i class="fas fa-cog"></i> Settings</a>
                <hr>
                <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="appointments-page-container">
        <!-- Page Header -->
        <div class="page-header">
            <div class="header-content">
                <h1><i class="fas fa-calendar-check"></i> Appointments & Reminders</h1>
                <p>Manage veterinary appointments, vaccinations, and grooming schedules</p>
            </div>
            <button class="btn-primary" id="addAppointmentBtn">
                <i class="fas fa-plus-circle"></i> Add Appointment
            </button>
        </div>

        <!-- Filter Tabs -->
        <div class="appointments-tabs">
            <button class="tab-btn active" data-filter="all">
                <i class="fas fa-list"></i> All Appointments
            </button>
            <button class="tab-btn" data-filter="appointment">
                <i class="fas fa-stethoscope"></i> Vet Visits
            </button>
            <button class="tab-btn" data-filter="vaccination">
                <i class="fas fa-syringe"></i> Vaccinations
            </button>
            <button class="tab-btn" data-filter="grooming">
                <i class="fas fa-cut"></i> Grooming
            </button>
            <button class="tab-btn" data-filter="upcoming">
                <i class="fas fa-clock"></i> Upcoming
            </button>
            <button class="tab-btn" data-filter="overdue">
                <i class="fas fa-exclamation-triangle"></i> Overdue
            </button>
        </div>

        <!-- Appointments Grid -->
        <div id="appointmentsGrid" class="appointments-grid">
            <!-- Appointments will be loaded here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state hidden">
            <i class="fas fa-calendar-times"></i>
            <h3>No Appointments Found</h3>
            <p>Schedule your first appointment to keep track of your pet's health needs</p>
            <button class="btn-primary" onclick="document.getElementById('addAppointmentBtn').click()">
                <i class="fas fa-plus-circle"></i> Schedule Appointment
            </button>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="loading-spinner hidden"></div>
    </div>

    <!-- Add Appointment Modal -->
    <div id="addAppointmentModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-plus"></i> Schedule Appointment</h3>
                <button class="close-btn" id="closeAppointmentModal">&times;</button>
            </div>
            <form id="addAppointmentForm">
                <div class="form-group">
                    <label for="appointmentPet">Pet *</label>
                    <select id="appointmentPet" required>
                        <option value="">Select a pet</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="appointmentTitle">Title *</label>
                    <input type="text" id="appointmentTitle" placeholder="e.g., Annual Checkup" required>
                </div>
                <div class="form-group">
                    <label for="appointmentType">Type *</label>
                    <select id="appointmentType" required>
                        <option value="appointment">Vet Visit</option>
                        <option value="vaccination">Vaccination</option>
                        <option value="grooming">Grooming</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="appointmentDate">Date *</label>
                        <input type="date" id="appointmentDate" required>
                    </div>
                    <div class="form-group">
                        <label for="appointmentTime">Time *</label>
                        <input type="time" id="appointmentTime" value="09:00" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="appointmentDescription">Notes</label>
                    <textarea id="appointmentDescription" placeholder="Any special instructions or notes..."></textarea>
                </div>
                <button type="submit" class="btn-primary btn-block">
                    <i class="fas fa-calendar-check"></i> Schedule Appointment
                </button>
            </form>
            <div id="appointmentMessage"></div>
        </div>
    </div>

    <script src="/static/js/appointments.js?v=1"></script>
    <script src="/static/js/vet-chat.js"></script>

    <!-- PetCare AI Assistant Button -->
    <button class="vet-chat-btn" id="vetChatBtn" title="PetCare AI Assistant">
        <i class="fas fa-user-md"></i>
    </button>

    <!-- Ask the Vet Chatbot Modal -->
    <div class="vet-chat-modal hidden" id="vetChatModal">
        <div class="vet-chat-container">
            <div class="vet-chat-header">
                <h3><i class="fas fa-user-md"></i> PetCare AI Assistant</h3>
                <button class="vet-chat-close" id="closeChatBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="vet-chat-messages" id="chatMessages">
                <div class="vet-message">
                    <div class="vet-avatar">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="vet-message-content">
                        <p>Hello! I'm your AI veterinary assistant. I can help answer questions about your pets' health, behavior, and care. I have access to your pet profiles and can provide guidance based on their information.</p>
                        <p class="disclaimer">⚠️ <strong>Disclaimer:</strong> I provide general guidance only. For emergencies or serious concerns, please contact your veterinarian immediately.</p>
                    </div>
                </div>
            </div>
            <div class="vet-chat-input-area">
                <textarea id="chatInput" placeholder="Ask about your pet's health, behavior, symptoms..." rows="2"></textarea>
                <button id="sendChatBtn" class="btn-send-chat">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>
</body>
</html>
